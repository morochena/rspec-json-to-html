doctype html
html(lang="en")
  head
    title Rspec Tests
    link(href='https://cdn.jsdelivr.net/npm/daisyui@1.19.0/dist/full.css' rel='stylesheet' type='text/css')
    link(href='https://cdn.jsdelivr.net/npm/tailwindcss@2.2/dist/tailwind.min.css' rel='stylesheet' type='text/css')
    link(href='https://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css' rel='stylesheet')
    link(href='https://cdn.datatables.net/responsive/2.2.3/css/responsive.dataTables.min.css' rel='stylesheet')
    style.
      .dataTables_wrapper select,
      .dataTables_wrapper .dataTables_filter input {
      color: #4a5568;
      padding-left: 1rem;
      padding-right: 1rem;
      padding-top: .5rem;
      padding-bottom: .5rem;
      line-height: 1.25;
      border-width: 2px;
      border-radius: .25rem;
      border-color: #edf2f7;
      background-color: #edf2f7;
      }
      table.dataTable.hover tbody tr:hover,
      table.dataTable.display tbody tr:hover {
      background-color: #ebf4ff;
      }
      .dataTables_wrapper .dataTables_paginate .paginate_button {
      font-weight: 700;
      border-radius: .25rem;
      border: 1px solid transparent;
      }
      .dataTables_wrapper .dataTables_paginate .paginate_button.current {
      color: #fff !important;
      box-shadow: 0 1px 3px 0 rgba(0, 0, 0, .1), 0 1px 2px 0 rgba(0, 0, 0, .06);
      font-weight: 700;
      border-radius: .25rem;
      background: #667eea !important;
      border: 1px solid transparent;
      }
      .dataTables_wrapper .dataTables_paginate .paginate_button:hover {
      color: #fff !important;
      box-shadow: 0 1px 3px 0 rgba(0, 0, 0, .1), 0 1px 2px 0 rgba(0, 0, 0, .06);
      font-weight: 700;
      border-radius: .25rem;
      background: #667eea !important;
      border: 1px solid transparent;
      }
      table.dataTable.no-footer {
      border-bottom: 1px solid #e2e8f0;
      margin-top: 0.75em;
      margin-bottom: 0.75em;
      }
      table.dataTable.dtr-inline.collapsed>tbody>tr>td:first-child:before,
      table.dataTable.dtr-inline.collapsed>tbody>tr>th:first-child:before {
      background-color: #667eea !important;
      }


  body.bg-gray-100.text-gray-900.tracking-wider.leading-normal
    .container.flex.justify-center.mx-auto
      .flex.flex-col
        .w-full

          h1.font-sans.font-bold.text-indigo-500.px-2.py-8.text-xl Rspec Tests

          h2.font-sans.font-bold.text-gray-500.text-l.inline Duration: #{parseFloat(summary.duration).toFixed(0)} seconds
          h2.font-sans.font-bold.text-l.inline |
          h2.font-sans.font-bold.text-green-500.text-l.inline Examples: #{summary.example_count}
          h2.font-sans.font-bold.text-l.inline |
          h2.font-sans.font-bold.text-red-500.text-l.inline Failures: #{summary.failure_count}
          h2.font-sans.font-bold.text-l.inline |
          h2.font-sans.font-bold.text-yellow-500.text-l.inline Pending: #{summary.pending_count}

          br
          br

          .border-b.border-gray-200.shadow
            table.table-auto#table
              thead.bg-gray-50
                tr
                  th.px-6.py-2.text-xs.text-gray-500.collapse
                      | Description
                  th.px-6.py-2.text-xs.text-gray-500
                    | Status
                  th.px-6.py-2.text-xs.text-gray-500
                    | Duration
              tbody.bg-white
                each example in examples
                  tr
                    td.px-6.py-4.text-sm.text-gray-500.break-words.collapse
                      .collapse-title
                        = example.full_description
                      if example.exception
                        .collapse-content.text-red-400
                          p 
                            = example.exception.class
                          br
                          p 
                            = example.exception.message 
                          br
                          code 
                            
                            each line in example.exception.backtrace
                              pre
                                = line
                    td.px-6.py-4
                      .text-sm.text-gray-900
                        = example.status
                    td.px-6.py-4
                      .text-sm.text-gray-500 
                        = parseFloat(example.run_time).toFixed(2) + "s"
                      
    script(type='text/javascript' src='https://code.jquery.com/jquery-3.4.1.min.js')
    script(src='https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js')
    script(src='https://cdn.datatables.net/responsive/2.2.3/js/dataTables.responsive.min.js')
    script.
      $(document).ready(function() {
      var table = $('#table').DataTable({
      responsive: true
      })
      .columns.adjust()
      .responsive.recalc();
      });
